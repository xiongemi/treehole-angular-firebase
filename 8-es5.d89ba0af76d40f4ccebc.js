!function(){function n(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function t(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{NELs:function(n,i,o){"use strict";o.r(i),o.d(i,"AddPostModule",function(){return U});var r=o("3Pt+"),a=o("AcyG"),c=o("PCNd"),s=o("tyNb"),u=o("pLZG"),b=o("xDUJ"),l=o("EBwW"),m=o("XKO9"),f=function(){var n=function n(t,i,o,r){e(this,n),this.title=t,this.message=i,this.uuid=o,this.language=r};return n.type="[Add Post] Save",n}(),d=o("fXoL"),h=o("ofXK"),p=o("JK/P"),g=o("ocnv"),z=o("B+r4"),E=o("PTRe"),v=o("OzZK"),w=o("RwU8"),y=o("C2AL"),S=o("FwiY"),R=o("sYmb");function k(n,t){1&n&&(d.Ub(0),d.Ec(1),d.hc(2,"translate"),d.Tb()),2&n&&(d.Eb(1),d.Gc(" ",d.ic(2,1,"ERROR.MAXLENGTH")," "))}function C(n,t){1&n&&(d.Ub(0),d.Ec(1),d.hc(2,"translate"),d.Tb()),2&n&&(d.Eb(1),d.Gc(" ",d.ic(2,1,"ERROR.MINLENGTH")," "))}function L(n,t){1&n&&(d.Ub(0),d.Ec(1),d.hc(2,"translate"),d.Tb()),2&n&&(d.Eb(1),d.Gc(" ",d.ic(2,1,"ERROR.REQUIRED")," "))}function O(n,t){if(1&n&&(d.Cc(0,k,3,3,"ng-container",12),d.Cc(1,C,3,3,"ng-container",12),d.Cc(2,L,3,3,"ng-container",12)),2&n){var e=t.$implicit;d.mc("ngIf",e.hasError("maxlength")),d.Eb(1),d.mc("ngIf",e.hasError("minlength")),d.Eb(1),d.mc("ngIf",e.hasError("required"))}}var T,P,G,j,A,D=[{path:"",component:(T=function(){function n(t,i,o){e(this,n),this.store=t,this.location=i,this.modalService=o,this.addForm=new r.g({title:new r.d(null,[r.r.required,r.r.minLength(10),r.r.maxLength(200)]),message:new r.d(null,[r.r.required,r.r.minLength(50),r.r.maxLength(1e3)])}),this.isLoading=!1}return t(n,[{key:"savePost",value:function(){var n=this;Object(b.a)(this.addForm),this.addForm.valid&&(this.isLoading=!0,this.store.dispatch(new f(this.addForm.value.title,this.addForm.value.message,this.store.selectSnapshot(m.b),this.store.selectSnapshot(m.a))).subscribe(function(){n.store.dispatch(new l.b),n.location.back(),n.isLoading=!1}))}},{key:"onCancel",value:function(){var n=this;this.addForm.dirty?this.modalService.cancelEditing().pipe(Object(u.a)(Boolean)).subscribe(function(){n.location.back()}):this.location.back()}}]),n}(),T.\u0275fac=function(n){return new(n||T)(d.Qb(a.h),d.Qb(h.i),d.Qb(p.a))},T.\u0275cmp=d.Kb({type:T,selectors:[["app-add-post-home"]],decls:24,vars:24,consts:[["nz-form","",3,"formGroup","ngSubmit"],["nzRequired","","nzFor","title",3,"nzSm","nzXs"],[3,"nzSm","nzXs","nzErrorTip"],["type","text","nz-input","","minlength","10","maxlength","200","formControlName","title","id","title"],["nzFor","message","nzRequired","",3,"nzSm","nzXs"],["rows","5","nz-input","","id","message","formControlName","message","minlength","50","maxlength","1000"],[1,"justify-center"],["nz-button","","nzSize","large","type","button",1,"mr4",3,"click"],["nz-icon","","nzType","left"],["nz-button","","nzSize","large","nzType","primary","type","submit",3,"nzLoading"],["nz-icon","","nzType","save"],["inputErrorsTemplate",""],[4,"ngIf"]],template:function(n,t){if(1&n&&(d.Wb(0,"form",0),d.dc("ngSubmit",function(){return t.savePost()}),d.Wb(1,"nz-form-item"),d.Wb(2,"nz-form-label",1),d.Ec(3),d.hc(4,"translate"),d.Vb(),d.Wb(5,"nz-form-control",2),d.Rb(6,"input",3),d.Vb(),d.Vb(),d.Wb(7,"nz-form-item"),d.Wb(8,"nz-form-label",4),d.Ec(9),d.hc(10,"translate"),d.Vb(),d.Wb(11,"nz-form-control",2),d.Rb(12,"textarea",5),d.Vb(),d.Vb(),d.Wb(13,"nz-form-item",6),d.Wb(14,"button",7),d.dc("click",function(){return t.onCancel()}),d.Rb(15,"i",8),d.Ec(16),d.hc(17,"translate"),d.Vb(),d.Wb(18,"button",9),d.Rb(19,"i",10),d.Ec(20),d.hc(21,"translate"),d.Vb(),d.Vb(),d.Vb(),d.Cc(22,O,3,3,"ng-template",null,11,d.Dc)),2&n){var e=d.tc(23);d.mc("formGroup",t.addForm),d.Eb(2),d.mc("nzSm",6)("nzXs",24),d.Eb(1),d.Gc(" ",d.ic(4,16,"ADD.TITLE")," "),d.Eb(2),d.mc("nzSm",14)("nzXs",24)("nzErrorTip",e),d.Eb(3),d.mc("nzSm",6)("nzXs",24),d.Eb(1),d.Gc(" ",d.ic(10,18,"ADD.MESSAGE")," "),d.Eb(2),d.mc("nzSm",14)("nzXs",24)("nzErrorTip",e),d.Eb(5),d.Gc(" ",d.ic(17,20,"ADD.CANCEL")," "),d.Eb(2),d.mc("nzLoading",t.isLoading),d.Eb(2),d.Gc(" ",d.ic(21,22,"ADD.SUBMIT")," ")}},directives:[r.s,r.o,g.b,r.h,z.c,g.c,z.a,g.d,g.a,E.b,r.c,r.k,r.j,r.n,r.f,v.a,w.a,y.a,S.a,h.m],pipes:[R.c],encapsulation:2}),T)}],F=((P=function n(){e(this,n)}).\u0275mod=d.Ob({type:P}),P.\u0275inj=d.Nb({factory:function(n){return new(n||P)},imports:[[s.h.forChild(D)],s.h]}),P),N=o("Cfvw"),W=o("I/3d"),X=((G=function(){function n(t){e(this,n),this.firestore=t}return t(n,[{key:"savePost",value:function(n,t,e,i){var o={title:n,message:t,language:i,createdAt:new Date,likesCount:0,commentsCount:0,dislikesCount:0,uuid:e};return Object(N.a)(this.firestore.collection("posts").add(o))}}]),n}()).\u0275fac=function(n){return new(n||G)(d.ac(W.a))},G.\u0275prov=d.Mb({token:G,factory:G.\u0275fac}),G),I=o("mrSG"),V=o("vkgz"),x=o("JIr8"),M=((A=function(){function n(t){e(this,n),this.addPostService=t}return t(n,[{key:"saveAddedPost",value:function(n,t){this.addPostService.savePost(t.title,t.message,t.uuid,t.language).pipe(Object(V.a)(function(){return n.dispatch(new l.b)}),Object(x.a)(function(t){throw n.dispatch(new l.a),t}))}}]),n}()).\u0275fac=function(n){return new(n||A)(d.ac(X))},A.\u0275prov=d.Mb({token:A,factory:A.\u0275fac}),Object(I.b)([Object(a.a)(f)],A.prototype,"saveAddedPost",null),A=Object(I.b)([Object(a.f)({name:"addPost",defaults:null})],A)),U=((j=function n(){e(this,n)}).\u0275mod=d.Ob({type:j}),j.\u0275inj=d.Nb({factory:function(n){return new(n||j)},providers:[X],imports:[[c.a,F,r.i,r.q,a.e.forFeature([M])]]}),j)}}])}();