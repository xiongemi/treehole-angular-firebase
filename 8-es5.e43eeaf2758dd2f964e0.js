!function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function e(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"2a21":function(t,o,c){"use strict";c.r(o),c.d(o,"PostDetailsModule",function(){return Lt});var i=c("3Pt+"),s=c("AcyG"),r=c("PCNd"),a=c("tyNb"),l=c("n90j"),u=c("quSY"),m=c("VRyK"),b=c("lJxs"),p=c("/uUt"),h=c("eIep"),f=c("zONo"),d=c("XKO9"),v=c("B0Pf"),y=function(){var t=function t(e){n(this,t),this.postId=e};return t.type="[Post Details] Get",t}(),C=function(){var t=function t(e,o){n(this,t),this.postId=e,this.sortBy=o};return t.type="[Post Details] Get Post Comments",t}(),g=function(t){return t.postDetails},k=function(t){return g(t).post},E=function(t){return g(t).comments},z=c("fXoL"),T=c("Cfvw"),w=c("bO7i");function S(t,e){var n=t.filter(function(t){return t.parentDocId===e});return n.forEach(function(e){return I(t,e)}),n}function I(t,e){e.childComments=t.filter(function(t){return t.parentDocId===e.id}),e.childComments.forEach(function(e){I(t,e)})}var O,D=c("I/3d"),R=((O=function(){function t(e){n(this,t),this.firestore=e}return e(t,[{key:"getPostDetails",value:function(t){return this.firestore.collection("posts").doc(t).get().pipe(Object(b.a)(function(t){var e=Object(w.a)(t.data());return e.id=t.id,e}))}},{key:"saveComment",value:function(t,e,n,o){var c={comment:t,uuid:e,parentDocId:n,createdAt:new Date,likesCount:0,dislikesCount:0};return Object(T.a)(this.firestore.collection("posts").doc(o).collection("comments").add(c))}},{key:"getComments",value:function(t,e){var n=f.b[e],o=n.orderByField,c=n.orderByDirection;return this.firestore.collection("posts").doc(t).collection("comments",function(t){return t.orderBy(o,c)}).get().pipe(Object(b.a)(function(e){return S(e.docs.map(function(t){var e,n=(e=t.data(),Object.assign(Object.assign({},e),{createdAt:e.createdAt.toDate(),shouldShowChildComments:!0,shouldShowReplyTo:!1}));return n.id=t.id,n}),t)}))}}]),t}()).\u0275fac=function(t){return new(t||O)(z.ac(D.a))},O.\u0275prov=z.Mb({token:O,factory:O.\u0275fac}),O),j=c("YaLo"),V=c("ofXK"),W=c("JA5x"),L=c("eHCX"),P=c("OzZK"),G=c("C2AL"),M=c("FwiY"),U=c("Mean"),$=c("RwU8"),B=c("pLZG"),A=c("xDUJ"),N=c("JK/P"),F=c("B+r4"),X=c("ocnv"),Y=c("PTRe"),x=c("sYmb");function K(t,e){1&t&&(z.Ub(0),z.Ec(1),z.hc(2,"translate"),z.Tb()),2&t&&(z.Eb(1),z.Gc(" ",z.ic(2,1,"ERROR.MAXLENGTH")," "))}function Q(t,e){1&t&&(z.Ub(0),z.Ec(1),z.hc(2,"translate"),z.Tb()),2&t&&(z.Eb(1),z.Gc(" ",z.ic(2,1,"ERROR.MINLENGTH")," "))}function J(t,e){1&t&&(z.Ub(0),z.Ec(1),z.hc(2,"translate"),z.Tb()),2&t&&(z.Eb(1),z.Gc(" ",z.ic(2,1,"ERROR.REQUIRED")," "))}function q(t,e){if(1&t&&(z.Cc(0,K,3,3,"ng-container",8),z.Cc(1,Q,3,3,"ng-container",8),z.Cc(2,J,3,3,"ng-container",8)),2&t){var n=e.$implicit;z.mc("ngIf",n.hasError("maxlength")),z.Eb(1),z.mc("ngIf",n.hasError("minlength")),z.Eb(1),z.mc("ngIf",n.hasError("required"))}}var H,Z=((H=function(){function t(e,o){n(this,t),this.store=e,this.modalService=o,this.saveComment=new z.o,this.cancel=new z.o,this.replyToFormGroup=new i.g({comment:new i.d(null,[i.r.required,i.r.minLength(10),i.r.maxLength(300)])})}return e(t,[{key:"onSubmit",value:function(){Object(A.a)(this.replyToFormGroup),this.replyToFormGroup.valid&&(this.saveComment.emit(this.replyToFormGroup.value.comment),this.replyToFormGroup.reset())}},{key:"onCancel",value:function(){var t=this;this.replyToFormGroup.dirty?this.modalService.cancelEditing().pipe(Object(B.a)(Boolean)).subscribe(function(){t.cancel.emit()}):this.cancel.emit()}}]),t}()).\u0275fac=function(t){return new(t||H)(z.Qb(s.h),z.Qb(N.a))},H.\u0275cmp=z.Kb({type:H,selectors:[["app-comment-reply-to"]],hostAttrs:[1,"db"],outputs:{saveComment:"saveComment",cancel:"cancel"},decls:16,vars:8,consts:[[3,"formGroup","ngSubmit"],[3,"nzErrorTip"],["nz-input","","formControlName","comment","placeholder","Comment"],["nz-button","","type","button",1,"mr4",3,"click"],["nz-icon","","nzType","close"],["nz-button","","nzType","primary","type","submit"],["nz-icon","","nzType","save"],["inputErrorsTemplate",""],[4,"ngIf"]],template:function(t,e){if(1&t&&(z.Wb(0,"form",0),z.dc("ngSubmit",function(){return e.onSubmit()}),z.Wb(1,"nz-form-item"),z.Wb(2,"nz-form-control",1),z.Rb(3,"textarea",2),z.Vb(),z.Vb(),z.Wb(4,"nz-form-item"),z.Wb(5,"nz-form-control"),z.Wb(6,"button",3),z.dc("click",function(){return e.onCancel()}),z.Rb(7,"i",4),z.Ec(8),z.hc(9,"translate"),z.Vb(),z.Wb(10,"button",5),z.Rb(11,"i",6),z.Ec(12),z.hc(13,"translate"),z.Vb(),z.Vb(),z.Vb(),z.Vb(),z.Cc(14,q,3,3,"ng-template",null,7,z.Dc)),2&t){var n=z.tc(15);z.mc("formGroup",e.replyToFormGroup),z.Eb(2),z.mc("nzErrorTip",n),z.Eb(6),z.Gc(" ",z.ic(9,4,"ADD.CANCEL")," "),z.Eb(4),z.Gc(" ",z.ic(13,6,"ADD.SUBMIT")," ")}},directives:[i.s,i.o,i.h,F.c,X.c,F.a,X.a,Y.b,i.c,i.n,i.f,P.a,$.a,G.a,M.a,V.m],pipes:[x.c],encapsulation:2}),H),_=c("5vDB"),tt=c("zAKX"),et=c("R0Ic"),nt=c("ZVAZ");function ot(t,e){if(1&t){var n=z.Xb();z.Wb(0,"app-comment-reply-to",10),z.dc("cancel",function(){z.uc(n);var t=z.gc().$implicit;return z.gc().hideReplyTo(t)})("saveComment",function(t){z.uc(n);var e=z.gc().$implicit;return z.gc().onSaveComment(t,e.id)}),z.Vb()}2&t&&z.mc("@inOut",void 0)}function ct(t,e){1&t&&(z.Ub(0),z.Rb(1,"i",13),z.Ec(2),z.hc(3,"translate"),z.Tb()),2&t&&(z.Eb(2),z.Gc(" ",z.ic(3,1,"COMMENTS.HIDE")," "))}function it(t,e){1&t&&(z.Ub(0),z.Rb(1,"i",14),z.Ec(2),z.hc(3,"translate"),z.Tb()),2&t&&(z.Eb(2),z.Gc(" ",z.ic(3,1,"COMMENTS.VIEW")," "))}function st(t,e){if(1&t){var n=z.Xb();z.Wb(0,"app-post-comments",15),z.dc("saveComment",function(t){return z.uc(n),z.gc(3).saveComment.emit(t)}),z.Vb()}if(2&t){var o=z.gc(2).$implicit,c=z.gc();z.mc("@inOut",void 0)("postId",c.postId)("comments",o.childComments)}}var rt=function(t){return{count:t}};function at(t,e){if(1&t){var n=z.Xb();z.Ub(0),z.Wb(1,"button",11),z.dc("click",function(){z.uc(n);var t=z.gc().$implicit;return z.gc().toggleShowChildComments(t)}),z.Wb(2,"span"),z.Cc(3,ct,4,3,"ng-container",9),z.Cc(4,it,4,3,"ng-container",9),z.Ec(5),z.hc(6,"translate"),z.Vb(),z.Vb(),z.Cc(7,st,1,3,"app-post-comments",12),z.Tb()}if(2&t){var o=z.gc().$implicit;z.Eb(3),z.mc("ngIf",o.shouldShowChildComments),z.Eb(1),z.mc("ngIf",!o.shouldShowChildComments),z.Eb(1),z.Gc(" ",z.jc(6,4,1===o.childComments.length?"COMMENTS.REPLY":"COMMENTS.REPLIES",z.pc(7,rt,o.childComments.length))," "),z.Eb(2),z.mc("ngIf",o.shouldShowChildComments)}}function lt(t,e){if(1&t){var n=z.Xb();z.Wb(0,"nz-comment",1),z.hc(1,"date"),z.Wb(2,"nz-comment-content"),z.Wb(3,"p"),z.Ec(4),z.Vb(),z.Vb(),z.Wb(5,"nz-comment-action"),z.Wb(6,"button",2),z.dc("click",function(){z.uc(n);var t=e.$implicit;return z.gc().like(t)}),z.Rb(7,"i",3),z.hc(8,"async"),z.Wb(9,"span",4),z.Ec(10),z.Vb(),z.Vb(),z.Vb(),z.Wb(11,"nz-comment-action"),z.Wb(12,"button",2),z.dc("click",function(){z.uc(n);var t=e.$implicit;return z.gc().dislike(t)}),z.Rb(13,"i",5),z.hc(14,"async"),z.Wb(15,"span",6),z.Ec(16),z.Vb(),z.Vb(),z.Vb(),z.Wb(17,"nz-comment-action"),z.Wb(18,"button",2),z.dc("click",function(){z.uc(n);var t=e.$implicit;return z.gc().showReplyTo(t)}),z.Rb(19,"i",7),z.Ec(20),z.hc(21,"translate"),z.Vb(),z.Vb(),z.Cc(22,ot,1,1,"app-comment-reply-to",8),z.Cc(23,at,8,9,"ng-container",9),z.Vb()}if(2&t){var o=e.$implicit,c=z.gc();z.nc("nzDatetime",z.jc(1,9,o.createdAt,"medium")),z.Eb(4),z.Gc(" ",o.comment," "),z.Eb(3),z.mc("nzTheme",z.ic(8,12,c.doesUserLikesComment$(o.id))?"fill":"outline"),z.Eb(3),z.Fc(o.likesCount),z.Eb(3),z.mc("nzTheme",z.ic(14,14,c.doesUserDislikesComment$(o.id))?"fill":"outline"),z.Eb(3),z.Fc(o.dislikesCount),z.Eb(4),z.Gc(" ",z.ic(21,16,"REPLY")," "),z.Eb(2),z.mc("ngIf",o.shouldShowReplyTo),z.Eb(1),z.mc("ngIf",o.childComments&&o.childComments.length)}}var ut,mt=((ut=function(){function t(e,o){n(this,t),this.store=e,this.likeDislikeService=o,this.cancelComment=new z.o,this.saveComment=new z.o}return e(t,[{key:"showReplyTo",value:function(t){t.shouldShowReplyTo=!0}},{key:"hideReplyTo",value:function(t){t.shouldShowReplyTo=!1}},{key:"toggleShowChildComments",value:function(t){t.shouldShowChildComments=!t.shouldShowChildComments}},{key:"doesUserLikesComment$",value:function(t){return this.store.select(Object(v.b)(t))}},{key:"doesUserDislikesComment$",value:function(t){return this.store.select(Object(v.a)(t))}},{key:"like",value:function(t){this.likeDislikeService.like(this.doesUserLikesComment$(t.id),this.doesUserDislikesComment$(t.id),t)}},{key:"dislike",value:function(t){this.likeDislikeService.dislike(this.doesUserLikesComment$(t.id),this.doesUserDislikesComment$(t.id),t)}},{key:"onSaveComment",value:function(t,e){this.saveComment.emit({comment:t,parentDocId:e})}}]),t}()).\u0275fac=function(t){return new(t||ut)(z.Qb(s.h),z.Qb(j.a))},ut.\u0275cmp=z.Kb({type:ut,selectors:[["app-post-comments"]],hostAttrs:[1,"db"],inputs:{comments:"comments",postId:"postId",parentDocId:"parentDocId",shouldShowReplyTo:"shouldShowReplyTo"},outputs:{cancelComment:"cancelComment",saveComment:"saveComment"},decls:1,vars:1,consts:[[3,"nzDatetime",4,"ngFor","ngForOf"],[3,"nzDatetime"],["nz-button","","nzType","link",3,"click"],["nz-tooltip","","nzTitle","Like","nz-icon","","nzType","like",3,"nzTheme"],[1,"count","like"],["nz-tooltip","","nzTitle","Dislike","nz-icon","","nzType","dislike",3,"nzTheme"],[1,"count","dislike"],["nz-icon","","nzType","comment"],["class","db ph3-ns",3,"cancel","saveComment",4,"ngIf"],[4,"ngIf"],[1,"db","ph3-ns",3,"cancel","saveComment"],["nz-button","","nzType","link",1,"mb2",3,"click"],[3,"postId","comments","saveComment",4,"ngIf"],["nz-icon","","nzType","up","nzTheme","outline"],["nz-icon","","nzType","down","nzTheme","outline"],[3,"postId","comments","saveComment"]],template:function(t,e){1&t&&z.Cc(0,lt,24,18,"nz-comment",0),2&t&&z.mc("ngForOf",e.comments)},directives:[V.l,nt.b,nt.c,nt.a,P.a,G.a,M.a,V.m,Z,ut],pipes:[V.e,V.b,x.c],encapsulation:2,data:{animation:[Object(et.l)("inOut",[Object(et.k)(":enter",[Object(et.j)({transform:"translateY(-10%)",opacity:0}),Object(et.e)(300)]),Object(et.k)(":leave",[Object(et.e)(300,Object(et.j)({transform:"translateY(-10%)",opacity:0}))])])]}}),ut),bt=function(t,e,n){return[t,e,n]};function pt(t,e){if(1&t&&(z.Wb(0,"nz-card",7),z.Wb(1,"p",8),z.Ec(2),z.Vb(),z.Wb(3,"time",9),z.Ec(4),z.hc(5,"date"),z.Vb(),z.Vb()),2&t){var n=z.gc(),o=z.tc(2),c=z.tc(4),i=z.tc(6);z.mc("nzLoading",!n.post)("nzTitle",null==n.post?null:n.post.title)("nzActions",z.rc(8,bt,o,c,i)),z.Eb(2),z.Gc(" ",null==n.post?null:n.post.message," "),z.Eb(2),z.Gc(" ",z.jc(5,5,null==n.post?null:n.post.createdAt,"medium")," ")}}function ht(t,e){if(1&t){var n=z.Xb();z.Wb(0,"button",10),z.dc("click",function(){return z.uc(n),z.gc().like()}),z.Rb(1,"i",11),z.hc(2,"async"),z.Ec(3),z.Vb()}if(2&t){var o=z.gc();z.Eb(1),z.mc("nzTheme",z.ic(2,2,o.doesUserLikePost$)?"fill":"outline"),z.Eb(2),z.Gc(" ",null==o.post?null:o.post.likesCount," ")}}function ft(t,e){if(1&t){var n=z.Xb();z.Wb(0,"button",10),z.dc("click",function(){return z.uc(n),z.gc().dislike()}),z.Rb(1,"i",12),z.hc(2,"async"),z.Ec(3),z.Vb()}if(2&t){var o=z.gc();z.Eb(1),z.mc("nzTheme",z.ic(2,2,o.doesUserDislikePost$)?"fill":"outline"),z.Eb(2),z.Gc(" ",null==o.post?null:o.post.dislikesCount," ")}}function dt(t,e){if(1&t){var n=z.Xb();z.Wb(0,"button",10),z.dc("click",function(){return z.uc(n),z.gc().showReplyTo()}),z.Rb(1,"i",13),z.Ec(2),z.hc(3,"translate"),z.Vb()}2&t&&(z.Eb(2),z.Gc(" ",z.ic(3,1,"REPLY")," "))}function vt(t,e){if(1&t){var n=z.Xb();z.Wb(0,"nz-result",14),z.hc(1,"translate"),z.Wb(2,"div",15),z.Wb(3,"button",16),z.dc("click",function(){return z.uc(n),z.gc().getPostDetails()}),z.Ec(4),z.hc(5,"translate"),z.Vb(),z.Vb(),z.Vb()}2&t&&(z.mc("nzTitle",z.ic(1,2,"MESSAGES.FAILED")),z.Eb(4),z.Gc(" ",z.ic(5,4,"RETRY")," "))}function yt(t,e){if(1&t){var n=z.Xb();z.Wb(0,"app-comment-reply-to",17),z.dc("cancel",function(){return z.uc(n),z.gc().hideReplyTo()})("saveComment",function(t){z.uc(n);var e=z.gc();return e.saveComment(t,e.postId)}),z.Vb()}}function Ct(t,e){if(1&t){var n=z.Xb();z.Wb(0,"app-post-comments",23),z.dc("saveComment",function(t){return z.uc(n),z.gc(2).saveComment(t.comment,t.parentDocId)}),z.Vb()}if(2&t){var o=z.gc(2);z.mc("comments",o.comments)("postId",o.postId)}}var gt=function(t){return{count:t}};function kt(t,e){if(1&t&&(z.Ub(0),z.Rb(1,"nz-divider",18),z.hc(2,"translate"),z.Wb(3,"div",19),z.Ec(4),z.hc(5,"translate"),z.Wb(6,"nz-select",20),z.Rb(7,"nz-option",21),z.hc(8,"translate"),z.Rb(9,"nz-option",21),z.hc(10,"translate"),z.Rb(11,"nz-option",21),z.hc(12,"translate"),z.Vb(),z.Vb(),z.Cc(13,Ct,1,2,"app-post-comments",22),z.Tb()),2&t){var n=z.gc();z.Eb(1),z.mc("nzText",z.ic(2,10,"COMMENTS.COMMENTS")),z.Eb(3),z.Gc(" ",z.jc(5,12,1===n.comments.length?"COMMENTS.REPLY":"COMMENTS.REPLIES",z.pc(21,gt,n.comments.length))," "),z.Eb(2),z.mc("formControl",n.sortBy),z.Eb(1),z.mc("nzValue",n.SortBy.MostLikes)("nzLabel",z.ic(8,15,n.SortBy.MostLikes)),z.Eb(2),z.mc("nzValue",n.SortBy.MostDislikes)("nzLabel",z.ic(10,17,n.SortBy.MostDislikes)),z.Eb(2),z.mc("nzValue",n.SortBy.NewestPosts)("nzLabel",z.ic(12,19,n.SortBy.NewestPosts)),z.Eb(2),z.mc("ngIf",n.post&&n.comments)}}var Et,zt,Tt,wt,St=[{path:":id",component:(Et=function(){function t(e,o,c,s){n(this,t),this.route=e,this.store=o,this.postDetailsService=c,this.likeDislikeService=s,this.shouldShowReplyTo=!0,this.hasError=!1,this.SortBy=f.a,this.sortBy=new i.d(f.a.MostLikes),this.subscription=new u.a}return e(t,[{key:"ngOnInit",value:function(){var t=this,e=this.route.params.pipe(Object(b.a)(function(e){return t.postId=e.id,t.postId}),Object(p.a)());this.subscription.add(e.subscribe(function(){t.getPostDetails()})),this.subscription.add(this.store.select(k).subscribe(function(e){t.post=Object(l.a)(e)})),this.subscription.add(this.store.select(E).subscribe(function(e){t.comments=Object(l.a)(e)})),this.subscription.add(Object(m.a)(e,this.sortBy.valueChanges).pipe(Object(h.a)(function(){return t.store.dispatch(new C(t.postId,t.sortBy.value))})).subscribe()),this.doesUserLikePost$=e.pipe(Object(h.a)(function(e){return t.store.select(Object(v.b)(e))})),this.doesUserDislikePost$=e.pipe(Object(h.a)(function(e){return t.store.select(Object(v.a)(e))}))}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"showReplyTo",value:function(){this.shouldShowReplyTo=!0}},{key:"hideReplyTo",value:function(){this.shouldShowReplyTo=!1}},{key:"like",value:function(){this.likeDislikeService.like(this.doesUserLikePost$,this.doesUserDislikePost$,this.post)}},{key:"dislike",value:function(){this.likeDislikeService.dislike(this.doesUserLikePost$,this.doesUserDislikePost$,this.post)}},{key:"saveComment",value:function(t,e){var n=this;this.postDetailsService.saveComment(t,this.store.selectSnapshot(d.b),e,this.postId).subscribe(function(){n.store.dispatch(new C(n.postId,n.sortBy.value))})}},{key:"getPostDetails",value:function(){var t=this;this.store.dispatch(new y(this.postId)).subscribe(function(){t.hasError=!1},function(){t.hasError=!0}),this.store.dispatch(new C(this.postId,this.sortBy.value))}}]),t}(),Et.\u0275fac=function(t){return new(t||Et)(z.Qb(a.a),z.Qb(s.h),z.Qb(R),z.Qb(j.a))},Et.\u0275cmp=z.Kb({type:Et,selectors:[["app-post-details-home"]],hostAttrs:[1,"db","bg-white"],decls:10,vars:4,consts:[["class","w-100",3,"nzLoading","nzTitle","nzActions",4,"ngIf"],["actionLike",""],["actionDislike",""],["actionComment",""],["nzStatus","warning",3,"nzTitle",4,"ngIf"],["class","db ph3 pt3 pb1",3,"cancel","saveComment",4,"ngIf"],[4,"ngIf"],[1,"w-100",3,"nzLoading","nzTitle","nzActions"],["nz-typography",""],["nz-typography","","nzType","secondary"],["nz-button","","nzType","link",1,"w-100",3,"click"],["nz-icon","","nzType","like",3,"nzTheme"],["nz-icon","","nzType","dislike",3,"nzTheme"],["nz-icon","","nzType","comment"],["nzStatus","warning",3,"nzTitle"],["nz-result-extra",""],["nz-button","","nzType","primary",3,"click"],[1,"db","ph3","pt3","pb1",3,"cancel","saveComment"],[3,"nzText"],[1,"ph3","flex","justify-between"],[3,"formControl"],[3,"nzValue","nzLabel"],[3,"comments","postId","saveComment",4,"ngIf"],[3,"comments","postId","saveComment"]],template:function(t,e){1&t&&(z.Cc(0,pt,6,12,"nz-card",0),z.Cc(1,ht,4,4,"ng-template",null,1,z.Dc),z.Cc(3,ft,4,4,"ng-template",null,2,z.Dc),z.Cc(5,dt,4,3,"ng-template",null,3,z.Dc),z.Cc(7,vt,6,6,"nz-result",4),z.Cc(8,yt,1,0,"app-comment-reply-to",5),z.Cc(9,kt,14,23,"ng-container",6)),2&t&&(z.mc("ngIf",!e.hasError),z.Eb(7),z.mc("ngIf",!e.post&&e.hasError),z.Eb(1),z.mc("ngIf",e.shouldShowReplyTo&&!e.hasError),z.Eb(1),z.mc("ngIf",e.comments&&e.comments.length&&!e.hasError))},directives:[V.m,W.a,L.a,P.a,G.a,M.a,U.a,U.b,$.a,Z,_.a,tt.b,i.n,i.e,tt.a,mt],pipes:[V.e,V.b,x.c],encapsulation:2}),Et)}],It=((zt=function t(){n(this,t)}).\u0275mod=z.Ob({type:zt}),zt.\u0275inj=z.Nb({factory:function(t){return new(t||zt)},imports:[[a.h.forChild(St)],a.h]}),zt),Ot=c("mrSG"),Dt=c("vkgz"),Rt=c("JIr8"),jt=c("EBwW"),Vt={post:null,comments:[]},Wt=((wt=function(){function t(e){n(this,t),this.postDetailsSerivce=e}return e(t,[{key:"getPostDetails",value:function(t,e){return t.patchState({post:null}),this.postDetailsSerivce.getPostDetails(e.postId).pipe(Object(Dt.a)(function(e){if(!e)throw e;t.patchState({post:e})}),Object(Rt.a)(function(e){throw t.dispatch(new jt.a),e}))}},{key:"getPostComments",value:function(t,e){return this.postDetailsSerivce.getComments(e.postId,e.sortBy).pipe(Object(Dt.a)(function(e){t.patchState({comments:e})}),Object(Rt.a)(function(e){throw t.dispatch(new jt.a),e}))}}]),t}()).\u0275fac=function(t){return new(t||wt)(z.ac(R))},wt.\u0275prov=z.Mb({token:wt,factory:wt.\u0275fac}),Object(Ot.b)([Object(s.a)(y)],wt.prototype,"getPostDetails",null),Object(Ot.b)([Object(s.a)(C)],wt.prototype,"getPostComments",null),wt=Object(Ot.b)([Object(s.f)({name:"postDetails",defaults:Object.assign({},Vt)})],wt)),Lt=((Tt=function t(){n(this,t)}).\u0275mod=z.Ob({type:Tt}),Tt.\u0275inj=z.Nb({factory:function(t){return new(t||Tt)},providers:[R],imports:[[r.a,It,i.i,i.q,s.e.forFeature([Wt])]]}),Tt)}}])}();