(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{NELs:function(t,n,e){"use strict";e.r(n),e.d(n,"AddPostModule",function(){return N});var r=e("3Pt+"),c=e("AcyG"),o=e("PCNd"),i=e("tyNb"),s=e("pLZG"),a=e("xDUJ"),b=e("XKO9");let l=(()=>{class t{constructor(t,n,e,r){this.title=t,this.message=n,this.uuid=e,this.language=r}}return t.type="[Add Post] Save",t})();var m=e("fXoL"),u=e("ofXK"),d=e("JK/P"),h=e("ocnv"),p=e("B+r4"),f=e("PTRe"),z=e("OzZK"),g=e("RwU8"),E=e("C2AL"),v=e("FwiY"),w=e("sYmb");function S(t,n){1&t&&(m.Ub(0),m.Ec(1),m.hc(2,"translate"),m.Tb()),2&t&&(m.Eb(1),m.Gc(" ",m.ic(2,1,"ERROR.MAXLENGTH")," "))}function R(t,n){1&t&&(m.Ub(0),m.Ec(1),m.hc(2,"translate"),m.Tb()),2&t&&(m.Eb(1),m.Gc(" ",m.ic(2,1,"ERROR.MINLENGTH")," "))}function y(t,n){1&t&&(m.Ub(0),m.Ec(1),m.hc(2,"translate"),m.Tb()),2&t&&(m.Eb(1),m.Gc(" ",m.ic(2,1,"ERROR.REQUIRED")," "))}function L(t,n){if(1&t&&(m.Cc(0,S,3,3,"ng-container",12),m.Cc(1,R,3,3,"ng-container",12),m.Cc(2,y,3,3,"ng-container",12)),2&t){const t=n.$implicit;m.mc("ngIf",t.hasError("maxlength")),m.Eb(1),m.mc("ngIf",t.hasError("minlength")),m.Eb(1),m.mc("ngIf",t.hasError("required"))}}const C=[{path:"",component:(()=>{class t{constructor(t,n,e){this.store=t,this.location=n,this.modalService=e,this.addForm=new r.g({title:new r.d(null,[r.r.required,r.r.minLength(10),r.r.maxLength(200)]),message:new r.d(null,[r.r.required,r.r.minLength(50),r.r.maxLength(1e3)])}),this.isLoading=!1}savePost(){Object(a.a)(this.addForm),this.addForm.valid&&(this.isLoading=!0,this.store.dispatch(new l(this.addForm.value.title,this.addForm.value.message,this.store.selectSnapshot(b.b),this.store.selectSnapshot(b.a))).subscribe(()=>{this.location.back(),this.isLoading=!1}))}onCancel(){this.addForm.dirty?this.modalService.cancelEditing().pipe(Object(s.a)(Boolean)).subscribe(()=>{this.location.back()}):this.location.back()}}return t.\u0275fac=function(n){return new(n||t)(m.Qb(c.h),m.Qb(u.i),m.Qb(d.a))},t.\u0275cmp=m.Kb({type:t,selectors:[["app-add-post-home"]],decls:24,vars:24,consts:[["nz-form","",3,"formGroup","ngSubmit"],["nzRequired","","nzFor","title",3,"nzSm","nzXs"],[3,"nzSm","nzXs","nzErrorTip"],["type","text","nz-input","","minlength","10","maxlength","200","formControlName","title","id","title"],["nzFor","message","nzRequired","",3,"nzSm","nzXs"],["rows","5","nz-input","","id","message","formControlName","message","minlength","50","maxlength","1000"],[1,"justify-center"],["nz-button","","nzSize","large","type","button",1,"mr4",3,"click"],["nz-icon","","nzType","left"],["nz-button","","nzSize","large","nzType","primary","type","submit",3,"nzLoading"],["nz-icon","","nzType","save"],["inputErrorsTemplate",""],[4,"ngIf"]],template:function(t,n){if(1&t&&(m.Wb(0,"form",0),m.dc("ngSubmit",function(){return n.savePost()}),m.Wb(1,"nz-form-item"),m.Wb(2,"nz-form-label",1),m.Ec(3),m.hc(4,"translate"),m.Vb(),m.Wb(5,"nz-form-control",2),m.Rb(6,"input",3),m.Vb(),m.Vb(),m.Wb(7,"nz-form-item"),m.Wb(8,"nz-form-label",4),m.Ec(9),m.hc(10,"translate"),m.Vb(),m.Wb(11,"nz-form-control",2),m.Rb(12,"textarea",5),m.Vb(),m.Vb(),m.Wb(13,"nz-form-item",6),m.Wb(14,"button",7),m.dc("click",function(){return n.onCancel()}),m.Rb(15,"i",8),m.Ec(16),m.hc(17,"translate"),m.Vb(),m.Wb(18,"button",9),m.Rb(19,"i",10),m.Ec(20),m.hc(21,"translate"),m.Vb(),m.Vb(),m.Vb(),m.Cc(22,L,3,3,"ng-template",null,11,m.Dc)),2&t){const t=m.tc(23);m.mc("formGroup",n.addForm),m.Eb(2),m.mc("nzSm",6)("nzXs",24),m.Eb(1),m.Gc(" ",m.ic(4,16,"ADD.TITLE")," "),m.Eb(2),m.mc("nzSm",14)("nzXs",24)("nzErrorTip",t),m.Eb(3),m.mc("nzSm",6)("nzXs",24),m.Eb(1),m.Gc(" ",m.ic(10,18,"ADD.MESSAGE")," "),m.Eb(2),m.mc("nzSm",14)("nzXs",24)("nzErrorTip",t),m.Eb(5),m.Gc(" ",m.ic(17,20,"ADD.CANCEL")," "),m.Eb(2),m.mc("nzLoading",n.isLoading),m.Eb(2),m.Gc(" ",m.ic(21,22,"ADD.SUBMIT")," ")}},directives:[r.s,r.o,h.b,r.h,p.c,h.c,p.a,h.d,h.a,f.b,r.c,r.k,r.j,r.n,r.f,z.a,g.a,E.a,v.a,u.m],pipes:[w.c],encapsulation:2}),t})()}];let O=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=m.Ob({type:t}),t.\u0275inj=m.Nb({imports:[[i.h.forChild(C)],i.h]}),t})();var T=e("Cfvw"),G=e("I/3d");let P=(()=>{class t{constructor(t){this.firestore=t}savePost(t,n,e,r){const c={title:t,message:n,language:r,createdAt:new Date,likesCount:0,commentsCount:0,dislikesCount:0,uuid:e};return Object(T.a)(this.firestore.collection("posts").add(c))}}return t.\u0275fac=function(n){return new(n||t)(m.ac(G.a))},t.\u0275prov=m.Mb({token:t,factory:t.\u0275fac}),t})();var A=e("mrSG"),j=e("vkgz"),k=e("JIr8"),D=e("EBwW");let F=(()=>{let t=class{constructor(t){this.addPostService=t}saveAddedPost(t,n){return this.addPostService.savePost(n.title,n.message,n.uuid,n.language).pipe(Object(j.a)(()=>{t.dispatch(new D.b)}),Object(k.a)(n=>{throw t.dispatch(new D.a),n}))}};return t.\u0275fac=function(n){return new(n||t)(m.ac(P))},t.\u0275prov=m.Mb({token:t,factory:t.\u0275fac}),Object(A.c)([Object(c.a)(l)],t.prototype,"saveAddedPost",null),t=Object(A.c)([Object(c.f)({name:"addPost",defaults:null})],t),t})(),N=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=m.Ob({type:t}),t.\u0275inj=m.Nb({providers:[P],imports:[[o.a,O,r.i,r.q,c.e.forFeature([F])]]}),t})()}}]);