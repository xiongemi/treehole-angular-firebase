!function(){function n(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function t(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{NELs:function(n,i,o){"use strict";o.r(i),o.d(i,"AddPostModule",function(){return U});var r=o("3Pt+"),a=o("AcyG"),c=o("PCNd"),s=o("tyNb"),u=o("pLZG"),b=o("xDUJ"),l=o("XKO9"),m=function(){var n=function n(t,i,o,r){e(this,n),this.title=t,this.message=i,this.uuid=o,this.language=r};return n.type="[Add Post] Save",n}(),f=o("fXoL"),d=o("ofXK"),h=o("JK/P"),p=o("ocnv"),g=o("B+r4"),z=o("PTRe"),E=o("OzZK"),v=o("RwU8"),w=o("C2AL"),y=o("FwiY"),S=o("sYmb");function R(n,t){1&n&&(f.Ub(0),f.Ec(1),f.hc(2,"translate"),f.Tb()),2&n&&(f.Eb(1),f.Gc(" ",f.ic(2,1,"ERROR.MAXLENGTH")," "))}function k(n,t){1&n&&(f.Ub(0),f.Ec(1),f.hc(2,"translate"),f.Tb()),2&n&&(f.Eb(1),f.Gc(" ",f.ic(2,1,"ERROR.MINLENGTH")," "))}function C(n,t){1&n&&(f.Ub(0),f.Ec(1),f.hc(2,"translate"),f.Tb()),2&n&&(f.Eb(1),f.Gc(" ",f.ic(2,1,"ERROR.REQUIRED")," "))}function L(n,t){if(1&n&&(f.Cc(0,R,3,3,"ng-container",12),f.Cc(1,k,3,3,"ng-container",12),f.Cc(2,C,3,3,"ng-container",12)),2&n){var e=t.$implicit;f.mc("ngIf",e.hasError("maxlength")),f.Eb(1),f.mc("ngIf",e.hasError("minlength")),f.Eb(1),f.mc("ngIf",e.hasError("required"))}}var O,T,P,G,j,A=[{path:"",component:(O=function(){function n(t,i,o){e(this,n),this.store=t,this.location=i,this.modalService=o,this.addForm=new r.g({title:new r.d(null,[r.r.required,r.r.minLength(10),r.r.maxLength(200)]),message:new r.d(null,[r.r.required,r.r.minLength(50),r.r.maxLength(1e3)])}),this.isLoading=!1}return t(n,[{key:"savePost",value:function(){var n=this;Object(b.a)(this.addForm),this.addForm.valid&&(this.isLoading=!0,this.store.dispatch(new m(this.addForm.value.title,this.addForm.value.message,this.store.selectSnapshot(l.b),this.store.selectSnapshot(l.a))).subscribe(function(){n.location.back(),n.isLoading=!1}))}},{key:"onCancel",value:function(){var n=this;this.addForm.dirty?this.modalService.cancelEditing().pipe(Object(u.a)(Boolean)).subscribe(function(){n.location.back()}):this.location.back()}}]),n}(),O.\u0275fac=function(n){return new(n||O)(f.Qb(a.h),f.Qb(d.i),f.Qb(h.a))},O.\u0275cmp=f.Kb({type:O,selectors:[["app-add-post-home"]],decls:24,vars:24,consts:[["nz-form","",3,"formGroup","ngSubmit"],["nzRequired","","nzFor","title",3,"nzSm","nzXs"],[3,"nzSm","nzXs","nzErrorTip"],["type","text","nz-input","","minlength","10","maxlength","200","formControlName","title","id","title"],["nzFor","message","nzRequired","",3,"nzSm","nzXs"],["rows","5","nz-input","","id","message","formControlName","message","minlength","50","maxlength","1000"],[1,"justify-center"],["nz-button","","nzSize","large","type","button",1,"mr4",3,"click"],["nz-icon","","nzType","left"],["nz-button","","nzSize","large","nzType","primary","type","submit",3,"nzLoading"],["nz-icon","","nzType","save"],["inputErrorsTemplate",""],[4,"ngIf"]],template:function(n,t){if(1&n&&(f.Wb(0,"form",0),f.dc("ngSubmit",function(){return t.savePost()}),f.Wb(1,"nz-form-item"),f.Wb(2,"nz-form-label",1),f.Ec(3),f.hc(4,"translate"),f.Vb(),f.Wb(5,"nz-form-control",2),f.Rb(6,"input",3),f.Vb(),f.Vb(),f.Wb(7,"nz-form-item"),f.Wb(8,"nz-form-label",4),f.Ec(9),f.hc(10,"translate"),f.Vb(),f.Wb(11,"nz-form-control",2),f.Rb(12,"textarea",5),f.Vb(),f.Vb(),f.Wb(13,"nz-form-item",6),f.Wb(14,"button",7),f.dc("click",function(){return t.onCancel()}),f.Rb(15,"i",8),f.Ec(16),f.hc(17,"translate"),f.Vb(),f.Wb(18,"button",9),f.Rb(19,"i",10),f.Ec(20),f.hc(21,"translate"),f.Vb(),f.Vb(),f.Vb(),f.Cc(22,L,3,3,"ng-template",null,11,f.Dc)),2&n){var e=f.tc(23);f.mc("formGroup",t.addForm),f.Eb(2),f.mc("nzSm",6)("nzXs",24),f.Eb(1),f.Gc(" ",f.ic(4,16,"ADD.TITLE")," "),f.Eb(2),f.mc("nzSm",14)("nzXs",24)("nzErrorTip",e),f.Eb(3),f.mc("nzSm",6)("nzXs",24),f.Eb(1),f.Gc(" ",f.ic(10,18,"ADD.MESSAGE")," "),f.Eb(2),f.mc("nzSm",14)("nzXs",24)("nzErrorTip",e),f.Eb(5),f.Gc(" ",f.ic(17,20,"ADD.CANCEL")," "),f.Eb(2),f.mc("nzLoading",t.isLoading),f.Eb(2),f.Gc(" ",f.ic(21,22,"ADD.SUBMIT")," ")}},directives:[r.s,r.o,p.b,r.h,g.c,p.c,g.a,p.d,p.a,z.b,r.c,r.k,r.j,r.n,r.f,E.a,v.a,w.a,y.a,d.m],pipes:[S.c],encapsulation:2}),O)}],D=((T=function n(){e(this,n)}).\u0275fac=function(n){return new(n||T)},T.\u0275mod=f.Ob({type:T}),T.\u0275inj=f.Nb({imports:[[s.h.forChild(A)],s.h]}),T),F=o("Cfvw"),N=o("I/3d"),W=((P=function(){function n(t){e(this,n),this.firestore=t}return t(n,[{key:"savePost",value:function(n,t,e,i){var o={title:n,message:t,language:i,createdAt:new Date,likesCount:0,commentsCount:0,dislikesCount:0,uuid:e};return Object(F.a)(this.firestore.collection("posts").add(o))}}]),n}()).\u0275fac=function(n){return new(n||P)(f.ac(N.a))},P.\u0275prov=f.Mb({token:P,factory:P.\u0275fac}),P),X=o("mrSG"),I=o("vkgz"),V=o("JIr8"),x=o("EBwW"),M=((j=function(){function n(t){e(this,n),this.addPostService=t}return t(n,[{key:"saveAddedPost",value:function(n,t){return this.addPostService.savePost(t.title,t.message,t.uuid,t.language).pipe(Object(I.a)(function(){n.dispatch(new x.b)}),Object(V.a)(function(t){throw n.dispatch(new x.a),t}))}}]),n}()).\u0275fac=function(n){return new(n||j)(f.ac(W))},j.\u0275prov=f.Mb({token:j,factory:j.\u0275fac}),Object(X.c)([Object(a.a)(m)],j.prototype,"saveAddedPost",null),j=Object(X.c)([Object(a.f)({name:"addPost",defaults:null})],j)),U=((G=function n(){e(this,n)}).\u0275fac=function(n){return new(n||G)},G.\u0275mod=f.Ob({type:G}),G.\u0275inj=f.Nb({providers:[W],imports:[[c.a,D,r.i,r.q,a.e.forFeature([M])]]}),G)}}])}();